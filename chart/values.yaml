replicaCount: 1

image:
  repository: ghcr.io/dwmkerr/claude-code-agent
  tag: ""
  pullPolicy: IfNotPresent

nameOverride: ""
fullnameOverride: ""

# API key configuration (use apiKeySecret for production)
apiKey: ""
apiKeySecret: ""

# Environment variables (merged with custom values)
env:
  CLAUDE_TIMEOUT_SECONDS: "3600"
  FORCE_COLOR: "1"
  # OpenTelemetry - uncomment to enable tracing
  # CLAUDE_CODE_ENABLE_TELEMETRY: "1"
  # OTEL_EXPORTER_OTLP_ENDPOINT: "http://phoenix-svc.phoenix.svc.cluster.local:6006"  # example

# Environment variables from ConfigMaps/Secrets
# Useful for injecting configuration from external sources (e.g., OTEL settings)
# Example:
#   envFrom:
#   - configMapRef:
#       name: otel-environment-variables
#       optional: true
#   - secretRef:
#       name: otel-environment-variables
#       optional: true
envFrom: []

# Claude Code configuration via ConfigMaps
#
# Create from a directory: kubectl create configmap my-defaults --from-file=./claude-defaults/
# This mounts to ~/.claude-defaults/ and copies to ~/.claude/ on startup
claude:
  # ConfigMap containing claude-defaults files (mounted to ~/.claude-defaults/)
  # Use this for CLAUDE.md, settings.json, skills/, and agents/
  claudeDefaultsConfigMap: ""

  # ConfigMap containing mcp-config.json (key must be "mcp-config.json")
  mcpConfigMap: ""

  # Extra CLI args passed to Claude Code (after --)
  args: []
  #   - "--model"
  #   - "opus"

service:
  type: ClusterIP
  port: 80

# ARK A2AServer resource
a2aserver:
  enabled: true
  timeout: "10m"
  description: "Claude Code AI assistant for software engineering tasks"
  annotations:
    ark.mckinsey.com/dashboard-icon: /icons/claude.png

resources:
  limits:
    memory: 2Gi
    cpu: 2000m
  requests:
    cpu: 500m
    memory: 512Mi
